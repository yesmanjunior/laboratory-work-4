{
  "$schema": "https://json-schema.org/draft/2024-10/schema",
  "title": "Tourist Management Schema",
  "description": "Schema for tourist consumers, managers, drinks, and reviews data",
  "type": "object",
  "properties": {
    "TouristConsumer": {
      "type": "object",
      "description": "Tourist consumer information and actions",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the tourist",
          "minLength": 1,
          "maxLength": 100,
          "pattern": "^[0-9]+$" 
        },
        "reviews": {
          "type": "object",
          "description": "Reviews left by the tourist",
          "patternProperties": {
            "^review[0-9]+$": {
              "type": "array",  
              "items": {
                "type": "string"
              }
            }
          }
        },
        "ratings": {
          "type": "object",
          "description": "Ratings given by the tourist",
          "patternProperties": {
            "^rating[0-9]+$": {
              "type": "object",
              "properties": {
                "value": {
                  "type": "string",  
                  "description": "Rating value",
                  "minimum": 1,
                  "maximum": 5
                },
                "drink": {
                  "type": "array",  
                  "description": "Drink associated with the rating"
                }
              },
              "required": ["value", "drink"]
            }
          }
        }
      },
      "required": ["name", "reviews"]  
    },
    "Manager": {
      "type": "object",
      "description": "Manager information and actions",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the manager",
          "minLength": 1,
          "maxLength": 100,
          "pattern": "^[A-Za-zА-Яа-яЁёЇїІіЄєҐґ]+(?:[\\s][A-Za-zА-Яа-яЁёЇїІіЄєҐґ]+)*$"
        },
        "viewedReviews": {
          "type": "object",
          "description": "Reviews viewed by the manager",
          "patternProperties": {
            "^review[0-9]+$": {
              "type": "string",  
              "description": "Content of the viewed review"
            }
          }
        },
        "statistics": {
          "type": "object",
          "description": "Statistics managed by the manager",
          "properties": {
            "totalReviews": {
              "type": "string", 
              "description": "Total number of reviews"
            },
            "averageRating": {
              "type": "string", 
              "description": "Average rating managed by the manager"
            }
          },
          "required": ["totalReviews", "averageRating"]
        }
      },
      "required": ["name", "viewedReviews"]  
    },
    "Drinks": {
      "type": "object",
      "description": "Collection of drinks with ratings",
      "patternProperties": {
        "^[A-Za-zА-Яа-яЁёЇїІіЄєҐґ]+(?:[\\s][A-Za-zА-Яа-яЁёЇїІіЄєҐґ]+)*$": {
          "type": "object",
          "properties": {
            "averageRating": {
              "type": "string",  
              "description": "Average rating of the drink"
            }
          },
          "required": ["averageRating"]
        }
      }
    }
  },
  "required": ["TouristConsumer", "Manager", "Drinks"]
}
